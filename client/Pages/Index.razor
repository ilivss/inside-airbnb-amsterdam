@page "/"

@using client.Models;
@using client.Services;

@inject IListingService listingService;

<PageTitle>Index</PageTitle>


@if (_listings == null)
{
    <div class="spinner-grow" style="width: 3rem; height: 3rem;" role="status">
    <span class="visually-hidden">Loading...</span>
</div>
}
else
{
    <h1>Hello, world!</h1>
    <h2>Listings</h2>
    // Print listing count

    <h2>Listing count: @_listings.Count</h2>
}

@code
{
    private List<Listing>? _listings { get; set; }

    protected override async Task OnInitializedAsync()
    {
        _listings = await listingService.Get(null, null, null, null, null);
        await base.OnInitializedAsync();
    }
}
